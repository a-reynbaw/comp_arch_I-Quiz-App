[
  {
    "question": "Ένας πίνακας με όνομα Μ αποθηκεύει σε διαδοχικά byte στη μνήμη ενός επεξεργαστή RISC-V 20 απρόσημους αριθμούς M[0], …, M[19] καθένας από τους οποίους έχει τιμή μεταξύ 0 και 12. Θεωρήστε ότι ήδη έχετε στον καταχωρητή x9 τη διεύθυνση μνήμης στην οποία είναι αποθηκευμένος ο πίνακας Μ (αυτό επιτυγχάνεται με την ψευδοεντολή la). Γράψτε πρόγραμμα συμβολικής γλώσσας RISC-V με τις λιγότερες δυνατές εντολές που να υπολογίζει το άθροισμα των αριθμών Μ[0] έως Μ[19] και να το αποθηκεύει στον καταχωρητή x10. Μπορείτε να χρησιμοποιήσετε όποιους καταχωρητές και εντολές θέλετε εκτός από εντολές διακλάδωσης και άλματος (branch, jump). Στο πλήθος εντολών μην υπολογίζετε την la και τις εντολές τερματισμού του προγράμματος. Ποιος είναι ο αριθμός των εντολών του προγράμματός σας;",
    "solution": "Η ιδέα της λύσης είναι η εκμετάλλευση του γεγονότος ότι οι αριθμοί είναι πολύ μικροί (τιμές 0 έως 12). Εξαιτίας αυτού μπορούν να προστίθενται «παράλληλα» ως ένα «διάνυσμα» μικρών αριθμών (ένα byte ο καθένας). Για να γίνει αυτό πρέπει τα διαδοχικά byte να φορτωθούν από τη μνήμη ως λέξεις (4άδες byte).\n\n```lw x4,0(x9)\nlw x5,4(x9)\nlw x6,8(x9)\nlw x7,12(x9)\nlw x8,16(x9)\nadd x4,x4,x5\nadd x6,x6,x7\nadd x4,x4,x6\nadd x8,x4,x8\nsrli x4,x8,16\nslli x5,x8,16\nsrli x5,x5,16\nadd x8,x4,x5\nsrli x4,x8,8\nslli x5,x8,24\nsrli x5,x5,24\nadd x10,x4,x5\n```\n\nΟ κώδικας υποθέτει (με βάση την εκφώνηση) ότι στον x9 βρίσκεται ήδη η διεύθυνση του πίνακα Μ (αυτό επιτυγχάνεται με μια ψευδοεντολή la).\n\n**Συνολικά 17 εντολές**\n\n```lw x4,0(x9)\nlw x5,4(x9)\nlw x6,8(x9)\nlw x7,12(x9)\nlw x8,16(x9)\n```\nΩς εδώ οι x4, x5, x6, x7, x8 έχουν λάβει τους 20 αριθμούς (τα 20 byte), 4 αριθμούς κάθε καταχωρητής\n\n```add x4,x4,x5\nadd x6,x6,x7\nadd x4,x4,x6\nadd x8,x4,x8\n```\nΣτο σημείο αυτό ο x8 περιέχει στα 4 byte του το άθροισμα των τεσσάρων 5άδων αριθμών\n```srli x4,x8,16\nslli x5,x8,16\nsrli x5,x5,16\nadd x8,x4,x5\n```\nΣτο σημείο αυτό ο x8 περιέχει στα 2 δεξιότερα byte του το άθροισμα των δύο 10άδων αριθμών\n```srli x4,x8,8\nslli x5,x8,24\nsrli x5,x5,24\nadd x10,x4,x5\n```\nΣτο σημείο αυτό ο x10 περιέχει το άθροισμα των 20 αριθμών\n\n```lw x4,0(x9)\nlw x5,4(x9)\nlw x6,8(x9)\nlw x7,12(x9)\nlw x8,16(x9)\n```\nΩς εδώ οι x4, x5, x6, x7, x8 έχουν λάβει τους 20 αριθμούς (τα 20 byte), 4 αριθμούς κάθε καταχωρητής\n```add x4,x4,x5\nadd x6,x6,x7\nadd x4,x4,x6\nadd x8,x4,x8\n```\nΣτο σημείο αυτό ο x8 περιέχει στα 4 byte του το άθροισμα των τεσσάρων 5άδων αριθμών\nΣτο σημείο αυτό ο x8 περιέχει στα 2 δεξιότερα byte του το άθροισμα των δύο 10άδων αριθμών\n```srli x4,x8,8\nadd x10,x4,x8\nandi x10,x10,0xff\n```\nΣτο σημείο αυτό ο x10 περιέχει το άθροισμα των 20 αριθμών\n",
    "answers": [
      {
        "text": "Δες ενδεικτική λύσεις",
        "correct": true
      }
    ]
  }
]
